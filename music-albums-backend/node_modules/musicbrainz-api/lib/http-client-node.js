import { CookieJar } from "tough-cookie";
import { HttpClient } from "./http-client.js";
export class HttpClientNode extends HttpClient {
    constructor(options) {
        super(options);
        this.cookieJar = new CookieJar();
    }
    registerCookies(response) {
        const cookie = response.headers.get('set-cookie');
        if (cookie) {
            return this.cookieJar.setCookie(cookie, response.url);
        }
        return Promise.resolve(undefined);
    }
    getCookies() {
        return this.cookieJar.getCookieString(this.httpOptions.baseUrl); // Get cookies for the request
    }
}
//# sourceMappingURL=http-client-node.js.map